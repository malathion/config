#function parse_git_branch {
#  ref=$(git-symbolic-ref HEAD 2> /dev/null) || return
#  echo "("${ref#refs/heads/}")"
#}

#PS1="\w \$(parse_git_branch)\$ "


#the way this thing obtains the pwd gets confused by symlinks
PS1="\[\033[0;33m\][\!]\`if [[ \$? = "0" ]]; then echo "\\[\\033[32m\\]"; else echo "\\[\\033[31m\\]"; fi\`[\u@\h: \`if [[ 
`""pwd""|wc -c|tr -d " "` > 18 ]]; then echo 
"\\W"; else echo "\\w"; fi\`]\\n$\[\033[0m\] "; echo -ne "\033]0;`hostname -s`:""`pwd`""\007"
