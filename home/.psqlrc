\set AUTOCOMMIT on
\set ENCODING UTF8
\set HISTSIZE 1000
\set HISTCONTROL ignoredups
\set FETCH_COUNT 500
\set HISTFILE ~/logs/psql/history-:DBNAME
\set PROMPT1 '\n%[%033[1;31;40m%] âž¤ %[%033[32m%]psql:%[%033[36m%]//%n%[%033[34m%]@%[%033[36m%]%`hostname`:%>%[%033[33m%]/%/%[%033[K%]%[%033[0m%]\n\n%[%033[1;33m%]%#%[%033[0m%] '
\set PROMPT2 '%[%033[2;30m%]%#%[%033[0m%] '
\set PROMPT3 '>> '
\encoding unicode
\timing
\set waits 'SELECT pg_stat_activity.procpid, pg_stat_activity.current_query, pg_stat_activity.waiting, now() - pg_stat_activity.query_start  as "totaltime", pg_stat_activity.backend_start FROM pg_stat_activity WHERE pg_stat_activity.current_query !~ \'%IDLE%\'::text AND pg_stat_activity.waiting = true;;'
\set locks 'select pid,mode,current_query from pg_locks,pg_stat_activity where granted=false and locktype=\'transactionid\' and pid=procpid order by pid,granted;;'
